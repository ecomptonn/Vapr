<section class="main-wrapper">
    {{! game cards  }}
    <div class="game-card-container">
        {{#each (recentGames user.steamGames)}}
            <div class="game-card">
                <div class="game-card__image-container">
                    <img
                        src="{{img}}"
                        alt="{{name}}"
                        class="game-card__image"
                    />
                    <div class="game-card__overlay">
                        <h3 class="game-card__title">{{name}}</h3>
                    </div>
                </div>
                <div class="game-card__details">
                    <div class="game-card__stat">
                        <span>Total Playtime:</span>
                        <span>{{totalPlaytime}} hrs</span>
                    </div>

                    <div class="game-card__stat">
                        <span>Last 2 Weeks:</span>
                        <span>{{twoWeeksPlaytime}} hrs</span>
                    </div>

                    <div class="game-card__last-played">
                        Last played:
                        {{formatLastPlayed lastPlayed}}
                    </div>
                </div>
            </div>
        {{/each}}
    </div>
    {{! friend carousel }}
    <div class="carousel-container">
        <button
            class="carousel-container__nav-button carousel-container__nav-button--prev"
            data-carousel="friends"
            data-direction="prev"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                height="48px"
                viewBox="0 -960 960 960"
                width="48px"
                fill="#FFFFFF"
            ><path
                    d="M561-240 320-481l241-241 43 43-198 198 198 198-43 43Z"
                /></svg>
        </button>
        <div class="carousel-container__content" id="friends-carousel">
            {{#each user.friends}}
                {{#if (eq status "Online")}}
                {{!-- friend card render --}}
                    <div class="friend-card">
                        <img src="{{avatar}}" alt="{{displayName}} avatar" />
                        <div class="friend-info">
                            <h3 class="friend-name">{{displayName}}</h3>
                            <p class="friend-status {{status}}">{{status}}</p>
                            {{#if currentGame}}
                                <p class="friend-game">Playing:
                                    {{currentGame}}</p>
                            {{/if}}
                        </div>
                    </div>
                {{/if}}
            {{/each}}
        </div>
        <button
            class="carousel-container__nav-button carousel-container__nav-button--next"
            data-carousel="friends"
            data-direction="next"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                height="48px"
                viewBox="0 -960 960 960"
                width="48px"
                fill="#FFFFFF"
            ><path
                    d="M530-481 332-679l43-43 241 241-241 241-43-43 198-198Z"
                /></svg>
        </button>
    </div>
</section>